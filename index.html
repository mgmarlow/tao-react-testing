<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>slide</title><meta property="og:title" content="slide"><meta property="og:type" content="article"><script defer="defer" src="runtime.60a068b0c054b53dc2a0.bundle.js"></script><script defer="defer" src="vendor.379b65e621ee3daf3181.bundle.js"></script><script defer="defer" src="main.bd4fd84ea311e5437461.bundle.js"></script><link href="vendor.379b65e621ee3daf3181.css" rel="stylesheet"><link href="main.bd4fd84ea311e5437461.css" rel="stylesheet"><link rel="prefetch" as="script" href="65.4a24db29904ce5aae8f6.bundle.js"><link rel="prefetch" as="script" href="260.92601e2fd9e9b03a8666.bundle.js"></head><body><div id="root"><div class="swiper-container swiper-container-initialized swiper-container-horizontal swiper-container-pointer-events"><div class="swiper-pagination"></div><div class="swiper-wrapper" id="swiper-wrapper-b7b6a2f10a087fc0d" aria-live="polite" style="transform: translate3d(0px, 0px, 0px);"><div class="swiper-slide title swiper-slide-active" data-hash="slide-1" role="group" aria-label="1 / 10" style="width: 1184px;"><div class="slide-internal-box"><h1>Testing React Components</h1></div></div><div class="swiper-slide swiper-slide-next" data-hash="slide-2" role="group" aria-label="2 / 10" style="width: 1184px;"><div class="slide-internal-box"><h2>Discussion Plan</h2><ul><li>React testing throughout the years</li><li>The rise of integration tests</li><li><code>@testing-library/react</code></li><li>Demo</li></ul></div></div><div class="swiper-slide" data-hash="slide-3" role="group" aria-label="3 / 10" style="width: 1184px;"><div class="slide-internal-box"><h2>Enzyme</h2><ul><li>The defacto way to test React</li><li>Tap directly into the component lifecycle</li><li>Shallow rendering</li></ul><pre class=" language-js"><code class=" language-js"><span class="token keyword">import</span> MyComponent <span class="token keyword">from</span> <span class="token string">'./MyComponent'</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">'MyComponent'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should call #handleClick'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> handleClick <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">shallow</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>MyComponent onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>

    wrapper<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">simulate</span><span class="token punctuation">(</span>'click<span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>handleClick<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div><div class="swiper-slide" data-hash="slide-4" role="group" aria-label="4 / 10" style="width: 1184px;"><div class="slide-internal-box"><h2>Shallow rendering</h2><blockquote><p>Shallow rendering is useful to constrain yourself to testing a component as a unit, and to ensure that your tests aren't indirectly asserting on behavior of child components.</p><p>-- Enzyme docs</p></blockquote></div></div><div class="swiper-slide" data-hash="slide-5" role="group" aria-label="5 / 10" style="width: 1184px;"><div class="slide-internal-box"><h2>Why shallow render?</h2><ul><li>Faster test suites</li><li>Test components as self-contained units</li><li>Avoid re-testing behavior down the component tree</li><li>Can call component lifecycle functions directly from the tests</li></ul></div></div><div class="swiper-slide" data-hash="slide-6" role="group" aria-label="6 / 10" style="width: 1184px;"><div class="slide-internal-box"><h2>The reality</h2><blockquote><p>With shallow rendering, I can refactor my component's implementation and my tests break. With shallow rendering, I can break my application and my tests say everything's still working.</p><p>-- Kent C. Dodds</p></blockquote></div></div><div class="swiper-slide" data-hash="slide-7" role="group" aria-label="7 / 10" style="width: 1184px;"><div class="slide-internal-box"><h2>Problems with shallow</h2><ul><li><code>shallow</code> tests are brittle</li><li>Most complex components need to use <code>mount</code> anyway</li><li>Tests are concerned with implementation details</li></ul></div></div><div class="swiper-slide" data-hash="slide-8" role="group" aria-label="8 / 10" style="width: 1184px;"><div class="slide-internal-box"><h1>How can we do better?</h1></div></div><div class="swiper-slide" data-hash="slide-9" role="group" aria-label="9 / 10" style="width: 1184px;"><div class="slide-internal-box"><h2><code>@testing-library/react</code></h2><ul><li>Encourages better testing practices by using <strong>ARIA roles</strong></li><li>Tests work with actual DOM nodes</li><li>Internal React API is not publicly accessible</li><li>"Shallow" rendering is still possible via mocking</li></ul></div></div><div class="swiper-slide" data-hash="slide-10" role="group" aria-label="10 / 10" style="width: 1184px;"><div class="slide-internal-box"><h2><code>enzyme</code> vs. <code>@testing-library/react</code></h2><p><img src="92cbe65567ddfc8e8b41.webp"></p></div></div></div><span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div></div></body></html>